@model Akelote_e_Shop.Models.ApplicationUser

@{
    ViewBag.Title = "User details";
}

@section actions
{
<div>

    @Html.ActionLink("Back to list", "Index", "User", null, new { @class = "btn btn-sm btn-secondary" })

    @if (Model.IsBlocked) {
        @Html.ActionLink("Unblock", "Unblock", "User", new { id = Model.Id }, new { @class = "btn btn-sm btn-primary ml-2" })
    }
    else {
        @Html.ActionLink("Block", "Block", "User", new { id = Model.Id }, new { @class = "btn btn-sm btn-primary ml-2" })
    }


</div>

}

<div>

    <div class="row">

        <div class="col-6">

            <label>Email</label>
            <strong>@Html.DisplayFor(model => model.Email)</strong>

        </div>

        <div class="col-6">

            <label>Phone number</label>
            <strong>@Html.DisplayFor(model => model.PhoneNumber)</strong>

        </div>

    </div>

    <div class="row">

        <div class="col-6">

            <label>Username</label>
            <strong>@Html.DisplayFor(model => model.UserName)</strong>

        </div>

        <div class="col-6">

            <label>First name</label>
            <strong>@Html.DisplayFor(model => model.FirstName)</strong>

        </div>

    </div>

    <div class="row">

        <div class="col-6">

            <label>Last name</label>
            <strong>@Html.DisplayFor(model => model.LastName)</strong>

        </div>

        <div class="col-6">

            <label>Address</label>
            <strong>@Html.DisplayFor(model => model.Address)</strong>

        </div>

    </div>

    <div class="row">

        <div class="col-6">

            <label>Is blocked</label>
            <strong>@Html.DisplayFor(model => model.IsBlocked)</strong>

        </div>

    </div>

    <hr />

    <h4>Orders</h4>

    <br />

    <table class="table table-striped">

        <thead class="thead-dark">

            <tr>
                <th>Id</th>
                <th>Date</th>
                <th>Status</th>
                <th>Destination</th>
                <th>Description</th>
                <th>Order discount</th>
                <th>Rating</th>
                <th>Actions</th>
            </tr>

        </thead>

        @foreach (var item in Model.Orders) {
            <tr>
                <td>@Html.DisplayFor(modelItem => item.Id)</td>
                <td>@Html.DisplayFor(modelItem => item.Status)</td>
                <td>@Html.DisplayFor(modelItem => item.Destination)</td>
                <td>@Html.DisplayFor(modelItem => item.Description)</td>
                <td>@Html.DisplayFor(modelItem => item.OrderDiscount)</td>
                <td>@Html.DisplayFor(modelItem => item.Rating)</td>
                <td>
                    @Html.ActionLink("Details", "Details", "Order", new { id = item.Id }, null)
                    @Html.ActionLink("Complete", "Complete", "Order", new { id = item.Id }, null)
                </td>
            </tr>
        }

        @if (!Model.Orders.Any()) {
            <tr>
                <td colspan="8">No data</td>
            </tr>
        }

    </table>


</div>
